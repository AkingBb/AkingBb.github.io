<!DOCTYPE html>
<!--layout.ejs的意思是共用的布局文件-->
<!--partial()是个函数，来包含其他文件，使得我们能够更好的组织代码。-->
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="renderer" content="webkit">
  <title>love</title>

<!--Baidu Tongji-->
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
     


  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <div class="container">
      <header class="header">
  <div class="blog-title">
    <a href="/" class="logo"></a>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
    </ul>
  </nav>
</header>

      <main class="main">
      <section class="date">

  <head>
    <!-- 引入 Montserrat 字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
      /* 适用于小屏幕设备的样式 */
      @media screen and (max-width: 600px) {
        .envelope {
          width: 80%;
          /* 使用百分比宽度以确保在小屏幕上自适应 */
          margin: 0 auto;
          /* 居中显示 */
          padding: 10px;
          /* 减少内边距以节省空间 */
        }
      }

      .photo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        /* 调整列数和每列宽度 */
        gap: 10px;
        /* 设置照片之间的间隔 */
        position: relative;
        /*添加相对定位*/
      }

      .photo-item {
        position: absolute;
        /*添加绝对定位*/
      }

      .photo {
        width: 100%;
        /* 设置照片宽度为容器宽度 */
        height: auto;
        /* 根据宽度等比例缩放高度 */
        transform-origin: center bottom;
        /*设置变换的原点为底部中心*/
      }

      /* 将页面所有文字的字体设置为 Montserrat */
      div {
        font-family: 'Montserrat', sans-serif;
        font-size: 36px;
        font-weight: 700;
      }

      /* 将页面所有文字的字体设置为 Montserrat */
      p {
        font-family: 'Montserrat', sans-serif;
        font-size: 16px;
        font-weight: 300;
      }

      v-btn {
        font-family: 'Montserrat', sans-serif;
        font-size: 36px;
        font-weight: 700;
      }

      @font-face {
        font-family: 'Satisfy';
        font-style: normal;
        font-weight: 400;
        src: local('Satisfy Regular'), local('Satisfy-Regular'), url(font/rP2Hp2yn6lkG50LoCZOIHQ.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }


      /* 去掉默认效果 */
      * {
        margin: 0;
        padding: 0;
      }


      @keyframes rotate {
        100% {
          transform: rotateY(360deg);
        }
      }

      .perspective {
        /*子元素透视 场景深度*/
        perspective: 600px;
      }

      .wrap {
        /* 3d */
        width: 135px;
        height: 240px;
        margin: 100px auto;
        position: relative;
        /* border: 1px solid red; */
        transform: rotateX(-20deg) rotateY(0deg);
        transform-style: preserve-3d;

      }

      .wrap img {
        display: block;
        /* 绝对定位 */
        position: absolute;
        width: 100%;
        height: 100%;
        transform: rotateY(0deg) translateZ(0px);
        background: transparent;
        box-shadow: 0 0 4px #fff;
        border-radius: 5px;

        /* webkit */
      }

      @keyframes flip {
        from {
          transform: rotateY(0deg);
        }

        to {
          transform: rotateY(180deg);
        }
      }

      .envelope.flipped {
        transform: rotateY(180deg);
      }

      .envelope-container {
        perspective: 1000px;
      }

      .envelope {
        width: 200px;
        height: 150px;
        position: relative;
        transition: transform 1s;
        transform-style: preserve-3d;
      }

      .envelope.opened {
        transform: rotateY(180deg);
      }

      .envelope-content {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        backface-visibility: hidden;
        transform-style: preserve-3d;
      }

      .envelope-content h2 {
        margin-top: 20px;
        text-align: center;
      }

      .envelope-content p {
        margin: 10px;
      }
    </style>
    <!--鼠标点击显示爱心-->
    <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/love.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.1.18/jquery.backstretch.min.js"></script>
    <!-- 引入 Vue 和 Element UI 相关的 CDN 链接 -->
    <script src=" https://cdn.jsdelivr.net/npm/vue@2"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/theme-chalk/index.css">
    <script src="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/index.js"></script>
    <!-- require APlayer -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
    <!-- require MetingJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/meting/2.0.1/Meting.min.js"></script>
    <!-- Vuetify -->
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.5.8/dist/vuetify.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.5.8/dist/vuetify.min.js"></script>
    <!-- Typed.js -->
    <script src="/js/typed.js"></script>
    <link rel="stylesheet" href="/css/envelope.css">
  </head>
  <!-- 在合适的地方插入 Vue 模板代码 -->
  <div id="app">
    <!-- 首页内容 -->
    <div v-show="!showingAlbum && !showingLetter">
      <el-row>
        <el-col :span="12">
          <!-- 第一个头像 -->
          <el-avatar :size="120" src="/img/aking.jpg"></el-avatar>
        </el-col>
        <el-col :span="12">
          <!-- 第二个头像 -->
          <el-avatar :size="120" src="/img/rose.jpg"></el-avatar>
        </el-col>
      </el-row>
      <h2>
        Aking 和 Rose已经在一起
      </h2>
      <div class="timer">
        <b id="d"></b> 天 <b id="h"></b> 小时 <b id="m"></b> 分钟 <b id="s"></b> 秒
      </div>
      <el-button @click="showAlbum" type="success">一些时刻</el-button> <!-- 添加按钮 -->
      <el-button @click="showLetter" type="primary">一封信</el-button> <!-- 添加按钮 -->
    </div>
    <div class="song">
      <!-- 页面底部歌词 -->
      <meting-js v-show="true" server="netease" type="playlist"
        id="9330561931" fixed="true" autoplay="true" loop="all" order="random" preload="auto"
        list-folded="true" list-max-height="500px" lrc-type="1">
      </meting-js>
    </div>
    <!-- 相册页面 -->
    <div v-if="showingAlbum">

      <!-- 盒子容器 -->
      <div class="perspective" style="z-index: -20;">
        <div class="wrap" id="imgwrap">
          <!-- 引入图片值页面 -->
          <img class="f1" src="img/1.jpg" />
          <img class="f1" src="img/2.jpg" />
          <img class="f1" src="img/3.jpg" />
          <img class="f1" src="img/4.jpg" />
          <img class="f1" src="img/5.jpg" />
          <img class="f1" src="img/6.jpg" />
          <img class="f1" src="img/7.jpg" />
          <img class="f1" src="img/8.jpg" />
          <img class="f1" src="img/9.jpg" />
          <img class="f1" src="img/10.jpg" />

          <!-- 引入图片值页面 -->
          <img class="f2" src="img/11.jpg" />
          <img class="f2" src="img/12.jpg" />
          <img class="f2" src="img/13.jpg" />
          <img class="f2" src="img/14.jpg" />
          <img class="f2" src="img/15.jpg" />
          <img class="f2" src="img/16.jpg" />
          <img class="f2" src="img/17.jpg" />
          <img class="f2" src="img/18.jpg" />
          <img class="f2" src="img/19.jpg" />
          <img class="f2" src="img/20.jpg" />

          <!-- 引入图片值页面 -->
          <img class="f3" src="img/21.jpg" />
          <img class="f3" src="img/22.jpg" />
          <img class="f3" src="img/23.jpg" />
          <img class="f3" src="img/24.jpg" />
          <img class="f3" src="img/25.jpg" />
          <img class="f3" src="img/26.jpg" />
          <img class="f3" src="img/27.jpg" />
          <img class="f3" src="img/28.jpg" />
          <img class="f3" src="img/29.jpg" />
          <img class="f3" src="img/30.jpg" />
        </div>
      </div>
      <div style="z-index: 20;">
        <!-- 返回按钮 -->
        <el-button @click="hideAlbum" type="primary">返回</el-button>
      </div>
    </div>
    <!-- 信件页面 -->
    <div v-show="showingLetter" :style="{ width: isMobile ? '100%' : 'auto' }" ref="envelope">
      <div v-show="showingLetter">
        <v-card class="envelope" v-if="!opened" style="width: auto;">
          <v-card-title class="envelope-title">To rose</v-card-title>
          <v-card-text class="envelope-text">
            <!-- 这里可以添加信件内容 -->
          </v-card-text>
          <v-card-actions>
            <!-- 移动按钮到内容区域上方 -->
            <v-btn class="envelope-btn" @click="flipEnvelope">Flip</v-btn>
          </v-card-actions>
          <!-- 在右上角添加邮票图片 -->
          <img src="/img/stamp.png" class="stamp-image">
        </v-card>
        <v-card class="envelope" v-else style="width: auto;" ref="envelope">
          <v-card-title class="envelope-title">Dear rose: </v-card-title>
          <v-card-text class="envelope-text">
            <div id="typed-text"></div>
            <p> 见字如面，时光飞逝，转眼间两年啦，今天是我们的两周年纪念日，也是我陪在你身边的第二个生日，
              哥哥非常认真的祝你生日快乐，但不止快乐，我希望你永远平安喜乐，希望我们一起经历所有美好的瞬间，
              希望我们携手一起感受这个世界，希望你做最幸福的小猫，还希望很多很多，总之就是希望我们呢，永远在一起~(看来我想要的也很多) </p>
            <p>
              回想与你的第一个生日，让一个小女孩非常失落的度过那天，想想也是肥肠愧疚，我是一个粗心大意且不善言辞的人，于你自认为无可挑剔又真心实意，实际未顾及你的地方更多，想来也满是亏欠，特别是对于一个高需求宝宝，我陪伴她的时间她真的会去认真计算~除了心疼也有自责，但是我始终相信，我们会非常幸福的走下去，
              我们的日子也会越来越好。
              回头看这两年，可能我还是那么幼稚，我们还是会有争吵，但是我们一起经历的，我想告诉你更重要的是， 你于我来说是独一无二且万分重要的，谢谢你的爱给我了温暖和力量，请牢记，我也永远爱你~</p>
            <p>其实脑海里还有很多爱与想念，但是在这封信里又好像难以诉说，既然文笔有限，那就让时间承载记录我们的故事，
              不确定你是否钟意这种表达爱的方式，但这可能是作为程序员男友能想到的表达爱的最浪漫形式，作为我们两的小站，记录下生活的点点滴滴。</p>
            <p>最后引用一句
              人们从诗人的字句里，选取自己心爱的意义；但是诗句的最终意义是指向着你。
              ——泰戈尔《吉檀迦利》 </p>
            <p>祝我宝生日快乐，祝我老婆永远万事顺意且爱我，祝我们两周年快乐，深情不及久伴， 厚爱无需多言，你永远是我的小女孩~</p>
          </v-card-text>
          <v-card-actions>
            <v-btn class="envelope-btn" @click="closeEnvelope">Flip</v-btn>
          </v-card-actions>
          <!-- 在右上角添加邮票图片 -->
          <img src="/img/stamp.png" class="stamp-image">
        </v-card>
        <el-button @click="hideLetter" type="primary">返回</el-button>
      </div>
    </div>
  </div>
  <!-- 创建照片墙组件 -->
  <template id="photo-wall-template">
    <div class="photo-wall">
      <div v-for="(photo, index) in photos" :key="index" class="photo-item">
        <img :src="photo.url" alt="photo">
      </div>
    </div>
  </template>

  <!--  src="JS/photo.js" -->
  <script type="text/javascript">
    var oImg = document.getElementsByClassName('f1');
    var oImg2 = document.getElementsByClassName('f2');
    var oImg3 = document.getElementsByClassName('f3');
    var len = oImg.length;
    console.log(len);
    var deg = 360 / len;

    var oWrap = document.getElementById("imgwrap");

    // 遍历第一层图片并设置样式
    Array.prototype.forEach.call(oImg, function (ele, index) {
      // 设置旋转并沿Z轴平移的样式
      ele.style.transform = "rotateY(" + deg * index + "deg) translateZ(645.75px)";
    });

    // 遍历第二层图片并设置样式
    Array.prototype.forEach.call(oImg2, function (ele, index) {
      // 设置旋转并沿Z轴平移的样式
      ele.style.transform = "rotateY(" + deg * index + "deg) translateZ(645.75px) translateY(240px)";
    });

    // 遍历第三层图片并设置样式
    Array.prototype.forEach.call(oImg3, function (ele, index) {
      // 设置旋转并沿Z轴平移的样式
      ele.style.transform = "rotateY(" + deg * index + "deg) translateZ(645.75px) translateY(480px)";
    });

    // 设置整个相册的样式，使其立体显示
    oWrap.style.transform = "rotateX(-20deg) rotateY(0deg)";
  </script>

  <!--计时器js-->
  <script>
    function timer() {
      window.setTimeout("timer()", 1000);
      var start = new Date("2022/03/31 00:00:00");
      var t = new Date().getTime() - start;
      var h = ~~(t / 1000 / 60 / 60 % 24);
      if (h < 10) {
        h = "0" + h;
      }
      var m = ~~(t / 1000 / 60 % 60);
      if (m < 10) {
        m = "0" + m;
      }
      var s = ~~(t / 1000 % 60);
      if (s < 10) {
        s = "0" + s;
      }
      document.getElementById('d').innerHTML = ~~(t / 1000 / 60 / 60 / 24);
      document.getElementById('h').innerHTML = h;
      document.getElementById('m').innerHTML = m;
      document.getElementById('s').innerHTML = s;
    }
    timer();
  </script>
  <!--END：计时器js-->
  <script>
    // 照片墙组件
    Vue.component('photo-wall', {
      template: '#photo-wall-template',
      props: {
        photos: Array // 接受一个包含照片信息的数组作为参数
      }
    });
    new Vue({
      el: '#app',
      data() {
        return {
          showingAlbum: false,
          showingLetter: false,
          showMusicPlayer: false, // 控制音乐播放器显示与隐藏
          opened: false,
          isMobile: false, // 添加移动设备检测标志
          topPhotos: [ // 添加相册照片数组
            { url: '/img/aking.jpg' },
            { url: '/img/rose.jpg' },
          ],
          middlePhotos: [ // 添加相册照片数组
            { url: '/img/aking.jpg' },
            { url: '/img/rose.jpg' },

          ],
          bottomPhotos: [ // 添加相册照片数组
            { url: '/img/aking.jpg' },
            { url: '/img/rose.jpg' },
          ],
        };
      },
      methods: {
        showAlbum() {
          this.showMusicPlayer = false; // 当展示相册时，隐藏音乐播放器
          this.showingAlbum = true;
        },
        hideAlbum() {
          this.showMusicPlayer = true; // 返回首页时显示音乐播放器
          this.showingAlbum = false;
        },
        showLetter() {
          this.showMusicPlayer = false; // 当展示信件时，隐藏音乐播放器
          this.showingLetter = true;
        },
        hideLetter() {
          this.showMusicPlayer = true; // 返回首页时显示音乐播放器
          this.showingLetter = false;
        },
        openEnvelope() {
          this.opened = true;
        },
        closeEnvelope() {
          this.opened = false;
          // 移除光标元素
          const cursorElement = document.querySelector('.typed-cursor');
          if (cursorElement) {
            cursorElement.remove();
          }
        },
        flipEnvelope() {
          this.$refs.envelope.classList.toggle('flipped');
          this.opened = !this.opened;
        }
      },
      mounted() {
        // 判断是否为移动设备
        this.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const envelopeContainer = this.$refs.envelopeContainer;
        const envelope = this.$refs.envelope;

        envelopeContainer.addEventListener("click", () => {
          envelope.classList.toggle("opened");
        });
      },
      updated() {
        // 移除已存在的光标元素
        const cursorElement = document.querySelector('.typed-cursor');
        if (cursorElement) {
          cursorElement.remove();
        }
      }
    });
  </script>
</section>
      </main>

      
        <script type="text/javascript" color="177, 122, 125" opacity="2" 
            zIndex="-1" count="200" 
            src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
        </script>
      

    </div>

  </body>
</html>

